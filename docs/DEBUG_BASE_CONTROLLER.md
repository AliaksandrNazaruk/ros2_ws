# Отладка base_controller

## Проблема

API возвращает данные:
```json
[{"id": 15, "pose": {"x": 0.433, "y": 0.123, "theta": -0.161}, ...}]
```

Но `/odom` публикуется с нулевыми значениями:
```
x: 0.0, y: 0.0, theta: 0.0
```

## Что было сделано

1. Добавлено логирование в `AsyncDriverClient::pollStatus()`:
   - Логирование ошибок подключения
   - Логирование HTTP ошибок
   - Логирование успешного подключения
   - Логирование парсинга pose и velocity
   - Логирование ошибок парсинга JSON

2. Логи выводятся в `std::cerr` и `std::cout`

## Как проверить логи

После перезапуска `base_controller` проверьте логи:

```bash
# Если base_controller запущен в терминале, логи будут видны там
# Или проверьте через journalctl:
journalctl -f | grep AsyncDriverClient

# Или проверьте stderr процесса:
# (если base_controller запущен через systemd или другой менеджер)
```

## Возможные причины проблемы

1. **Проблема с HTTPS подключением**
   - `tls_verify=false`, но может быть проблема с сертификатом
   - Проверьте, может ли `httplib::SSLClient` подключиться

2. **Проблема с парсингом JSON**
   - JSON может быть невалидным
   - Или структура может отличаться от ожидаемой

3. **Проблема с сохранением данных**
   - Данные парсятся, но не сохраняются в `pose_` и `velocity_`
   - Или сохраняются, но перезаписываются нулевыми значениями

4. **Проблема с таймаутом**
   - `set_connection_timeout(0, 200000)` - 200ms может быть недостаточно
   - `set_read_timeout(0, 200000)` - 200ms может быть недостаточно

## Следующие шаги

1. Перезапустить `base_controller` с новым кодом
2. Проверить логи, чтобы понять, где именно происходит сбой
3. Исправить проблему на основе логов
